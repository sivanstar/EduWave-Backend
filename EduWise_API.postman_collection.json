{
	"info": {
		"_postman_id": "eduwise-api-collection",
		"name": "EduWise API",
		"description": "Complete API collection for EduWise application",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health & Info",
			"item": [
				{
					"name": "Welcome",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								""
							]
						},
						"description": "Get welcome message"
					}
				},
				{
					"name": "Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"health"
							]
						},
						"description": "Check server and database health status"
					}
				}
			]
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data) {",
									"        pm.collectionVariables.set('userId', response.data.user.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"John Doe\",\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\",\n  \"passwordConfirm\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"register"
							]
						},
						"description": "Register a new user. After registration, a verification email will be sent."
					}
				},
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.success && response.data) {",
									"        pm.collectionVariables.set('accessToken', response.data.accessToken);",
									"        pm.collectionVariables.set('refreshToken', response.data.refreshToken);",
									"        pm.collectionVariables.set('userId', response.data.user.id);",
									"        pm.collectionVariables.set('userRole', response.data.user.role || 'user');",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"login"
							]
						},
						"description": "Login user. Returns accessToken and refreshToken. Email must be verified first."
					}
				},
				{
					"name": "Verify Email",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/auth/verify-email/:token",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"auth",
								"verify-email",
								":token"
							],
							"variable": [
								{
									"key": "token",
									"value": "verification-token-from-email",
									"description": "Verification token received via email"
								}
							]
						},
						"description": "Verify email address using token from verification email"
					}
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get Current User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/me",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								"me"
							]
						},
						"description": "Get current authenticated user profile. Requires authentication."
					}
				},
				{
					"name": "Get All Users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Get all users. Requires admin role."
					}
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Get a single user by ID. Users can view their own profile, admins can view any profile."
					}
				},
				{
					"name": "Update User Role",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"role\": \"instructor\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id/role",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id",
								"role"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Update user role. Requires admin role. Valid roles: user, instructor, admin"
					}
				},
				{
					"name": "Create User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Jane Doe\",\n  \"email\": \"jane.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users"
							]
						},
						"description": "Create a new user. Requires admin role."
					}
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"fullName\": \"John Updated\",\n  \"email\": \"john.updated@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Update a user by ID. Users can update their own profile, admins can update any profile. Only admins can change roles via this endpoint."
					}
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"users",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Delete a user by ID. Requires admin role."
					}
				}
			]
		},
		{
			"name": "Courses",
			"item": [
				{
					"name": "Get All Courses",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses"
							]
						},
						"description": "Get all courses"
					}
				},
				{
					"name": "Get Course by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response._id) {",
									"        pm.collectionVariables.set('courseId', response._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{courseId}}",
									"description": "Course ID"
								}
							]
						},
						"description": "Get a single course by ID"
					}
				},
				{
					"name": "Create Course",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response._id) {",
									"        pm.collectionVariables.set('courseId', response._id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Introduction to JavaScript\",\n  \"desc\": \"Learn the basics of JavaScript programming language\",\n  \"courseduration\": 120,\n  \"lessons\": [\n    {\n      \"title\": \"Variables and Data Types\",\n      \"description\": \"Understanding variables, let, const, and data types in JavaScript\",\n      \"duration\": 15,\n      \"totallesson\": 1,\n      \"videoUrl\": \"https://example.com/videos/js-variables.mp4\"\n    },\n    {\n      \"title\": \"Functions\",\n      \"description\": \"Learn how to create and use functions in JavaScript\",\n      \"duration\": 20,\n      \"totallesson\": 2,\n      \"videoUrl\": \"https://example.com/videos/js-functions.mp4\"\n    },\n    {\n      \"title\": \"Arrays and Objects\",\n      \"description\": \"Working with arrays and objects in JavaScript\",\n      \"duration\": 25,\n      \"totallesson\": 3,\n      \"videoUrl\": \"https://example.com/videos/js-arrays-objects.mp4\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/courses",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses"
							]
						},
						"description": "Create a new course with lessons. Requires instructor or admin role."
					}
				},
				{
					"name": "Update Course",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"title\": \"Advanced JavaScript\",\n  \"desc\": \"Updated course description\",\n  \"courseduration\": 180,\n  \"lessons\": [\n    {\n      \"title\": \"Updated Lesson Title\",\n      \"description\": \"Updated lesson description\",\n      \"duration\": 30,\n      \"totallesson\": 1,\n      \"videoUrl\": \"https://example.com/videos/updated-lesson.mp4\"\n    }\n  ]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/courses/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{courseId}}",
									"description": "Course ID"
								}
							]
						},
						"description": "Update a course by ID. Requires instructor or admin role. You can update title, desc, courseduration, and/or lessons."
					}
				},
				{
					"name": "Delete Course",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/courses/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{courseId}}",
									"description": "Course ID"
								}
							]
						},
						"description": "Delete a course by ID. Requires instructor or admin role. This will also delete all progress records for this course."
					}
				},
				{
					"name": "Get User Progress on Course",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses/:id/progress/:userId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								":id",
								"progress",
								":userId"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{courseId}}",
									"description": "Course ID"
								},
								{
									"key": "userId",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Get user progress on a specific course. Creates a progress record if one doesn't exist."
					}
				},
				{
					"name": "Update User Progress on Course",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"completedLessons\": [0, 1],\n  \"currentLesson\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/courses/:id/progress/:userId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								":id",
								"progress",
								":userId"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{courseId}}",
									"description": "Course ID"
								},
								{
									"key": "userId",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Update user progress on a course. completedLessons is an array of lesson indices (0-based). Progress percentage is calculated automatically."
					}
				},
				{
					"name": "Get All Courses with User Progress",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/courses/user/:userId/progress",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"courses",
								"user",
								":userId",
								"progress"
							],
							"variable": [
								{
									"key": "userId",
									"value": "{{userId}}",
									"description": "User ID"
								}
							]
						},
						"description": "Get all courses with progress for a specific user"
					}
				}
			]
		},
		{
			"name": "Tools",
			"item": [
				{
					"name": "Get All Tools",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tools",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools"
							]
						},
						"description": "Get all tools"
					}
				},
				{
					"name": "Get Tool by ID",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const response = pm.response.json();",
									"    if (response.id) {",
									"        pm.collectionVariables.set('toolId', response.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tools/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{toolId}}",
									"description": "Tool ID (e.g., progress-analytics)"
								}
							]
						},
						"description": "Get a single tool by ID"
					}
				},
				{
					"name": "Create Tool",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const response = pm.response.json();",
									"    if (response.id) {",
									"        pm.collectionVariables.set('toolId', response.id);",
									"    }",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"id\": \"new-tool\",\n  \"name\": \"New Tool\",\n  \"icon\": \"<i class=\\\"fas fa-star\\\"></i>\",\n  \"description\": \"A new tool description\",\n  \"category\": \"Academic\",\n  \"status\": \"available\",\n  \"url\": \"new-tool.html\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tools",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools"
							]
						},
						"description": "Create a new tool. Requires admin role. Categories: Analytics, Planning, Academic, Document, File Sharing. Status: available, coming-soon"
					}
				},
				{
					"name": "Update Tool",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Updated Tool Name\",\n  \"description\": \"Updated description\",\n  \"status\": \"available\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tools/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{toolId}}",
									"description": "Tool ID"
								}
							]
						},
						"description": "Update a tool by ID. Requires admin role. You can update name, icon, description, category, status, and/or url."
					}
				},
				{
					"name": "Delete Tool",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tools/:id",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools",
								":id"
							],
							"variable": [
								{
									"key": "id",
									"value": "{{toolId}}",
									"description": "Tool ID"
								}
							]
						},
						"description": "Delete a tool by ID. Requires admin role."
					}
				},
				{
					"name": "Get Tools by Category",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tools/category/:category",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools",
								"category",
								":category"
							],
							"variable": [
								{
									"key": "category",
									"value": "Academic",
									"description": "Category: Analytics, Planning, Academic, Document, File Sharing"
								}
							]
						},
						"description": "Get all tools filtered by category"
					}
				},
				{
					"name": "Get Tools by Status",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/tools/status/:status",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"tools",
								"status",
								":status"
							],
							"variable": [
								{
									"key": "status",
									"value": "available",
									"description": "Status: available, coming-soon"
								}
							]
						},
						"description": "Get all tools filtered by status"
					}
				}
			]
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000",
			"type": "string"
		},
		{
			"key": "accessToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "refreshToken",
			"value": "",
			"type": "string"
		},
		{
			"key": "userId",
			"value": "",
			"type": "string"
		},
		{
			"key": "courseId",
			"value": "",
			"type": "string"
		},
		{
			"key": "toolId",
			"value": "progress-analytics",
			"type": "string"
		},
		{
			"key": "userRole",
			"value": "user",
			"type": "string"
		}
	]
}

